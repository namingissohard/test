webpackJsonp([1],{104:function(t,e,n){"use strict";var a=n(5),i=n(160),o=n(155),s=n.n(o),r=n(153),d=n.n(r),l=n(154),u=n.n(l);a.default.use(i.a),e.a=new i.a({routes:[{path:"/",components:{table:s.a,header:d.a,nav:u.a}},{path:"/financial-management",components:{header:d.a,nav:u.a}}]})},105:function(t,e,n){"use strict";var a=n(5),i=n(103),o=n(117),s=n(116),r=n.n(s),d=n(115);a.default.use(i.a);var l={addt:"11",addc:"",addi:"",addp:""};e.a=new i.a.Store({state:l,mutations:o,getters:r.a,actions:d.a})},106:function(t,e){},107:function(t,e,n){var a=n(22)(n(112),n(159),null,null,null);t.exports=a.exports},109:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"header"}},110:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},111:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(119),i=n.n(a),o=n(147),s=(n.n(o),n(113)),r=n.n(s),d=n(103),l=n(5),u=n(54),c=n.n(u);l.default.prototype.$http=c.a,e.default={data:function(){return{pageSize:10,currentPage:1,reviseKey:"",addTitle:"",addContent:"",addImg:"",addType:"",addVariable:!1,tableData:[{key:"",title:"",content:"",type:"",img:"",localKey:"",created_at:"",updated_at:""}]}},created:function(){this.updateNews()},methods:i()({},n.i(d.b)(["myUpdate"]),{initDialog:function(){this.addVariable=!1,this.addTitle="",this.addContent="",this.addImg="",this.addType=""},initData:function(){this.tableData.splice(0,10,{key:"",title:"",content:"",type:"",img:"",localKey:"",created_at:"",updated_at:""})},updateNews:function(){var t=this.tableData;c.a.get("http://118.89.37.216/api/news_list/skip/1/take/10").then(function(e){for(var n=e.data,a=0;a<=n.length-1;a++)t.push({localKey:a+1,key:n[a].id,title:n[a].title,content:n[a].content,img:n[a].img_url,type:n[a].type_id,created_at:n[a].created_at,updated_at:n[a].updated_at});t.splice(0,1)})},addInfo:function(){var t=this,e=this.tableData,n=this.reviseKey;n?c.a.post("http://118.89.37.216/api/update_news",{id:e[n].key,title:this.addTitle,content:this.addContent,img_url:this.addImg,type_id:Number(this.addType)}).then(function(a){0==a.data.status?(e[n-1].title=t.addTitle,e[n-1].content=t.addContent,e[n-1].img=t.addImg,e[n-1].type=Number(t.addType),r.a.success("修改第"+n+"条消息成功","数据修改")):r.a.error("修改失败","数据修改"),t.initDialog()}):c.a.post("http://118.89.37.216/api/update_news",{title:this.addTitle,content:this.addContent,img_url:this.addImg,type_id:Number(this.addType)}).then(function(n){0==n.data.status&&e.unshift({localKey:"新建",key:Number(e[e.length-1].key+1),title:t.addTitle,content:t.addContent,img:t.addImg,type:Number(t.addType)}),t.initDialog()}),this.myUpdate(this.addTitle)},deleteInfo:function(t,e){var n=this.tableData;c.a.post("http://118.89.37.216/api/destroy_news",{id:[t]}).then(function(t){0==t.data.status?(n.splice(e-1,1),r.a.success("删除第"+e+"条消息成功","数据删除")):r.a.error("数据删除","删除失败")})},showRevise:function(t){var e=this.tableData;this.reviseKey=t-1,this.addTitle=e[t-1].title,this.addContent=e[t-1].content,this.addImg=e[t-1].img,this.addType=e[t-1].type,this.addVariable=!0},handleSizeChange:function(t){var e=this.tableData;this.initData(),this.pageSize=t;var n="http://118.89.37.216/api/news_list/skip/"+(t*(this.currentPage-1)+1)+"/take/"+t;c.a.get(n).then(function(t){for(var n=t.data,a=0;a<=n.length-1;a++)e.push({localKey:a+1,key:n[a].id,title:n[a].title,content:n[a].content,img:n[a].img_url,type:n[a].type_id,created_at:n[a].created_at,updated_at:n[a].updated_at});e.splice(0,1)})},handleCurrentChange:function(t){var e=this.tableData;this.initData(),console.log(e);var n="http://118.89.37.216/api/news_list/skip/"+((t-1)*this.pageSize+1)+"/take/"+this.pageSize;c.a.get(n).then(function(t){for(var n=t.data,a=0;a<=n.length-1;a++)e.push({localKey:a+1,key:n[a].id,title:n[a].title,content:n[a].content,img:n[a].img_url,type:n[a].type_id,created_at:n[a].created_at,updated_at:n[a].updated_at});console.log(e),e.splice(0,1)})}}),computed:{getinfo:function(){return this.$store.state.addt}}}},112:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"home"}},113:function(t,e,n){var a,i;!function(o){a=[n(25)],void 0!==(i=function(t){return function(){function e(t,e,n){return h({type:y.error,iconClass:v().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=v()),g=t("#"+e.containerId),g.length?g:(n&&(g=c(e)),g)}function a(t,e,n){return h({type:y.info,iconClass:v().iconClasses.info,message:t,optionsOverride:n,title:e})}function i(t){_=t}function o(t,e,n){return h({type:y.success,iconClass:v().iconClasses.success,message:t,optionsOverride:n,title:e})}function s(t,e,n){return h({type:y.warning,iconClass:v().iconClasses.warning,message:t,optionsOverride:n,title:e})}function r(t){var e=v();g||n(e),u(t,e)||l(e)}function d(e){var a=v();if(g||n(a),e&&0===t(":focus",e).length)return void m(e);g.children().length&&g.remove()}function l(e){for(var n=g.children(),a=n.length-1;a>=0;a--)u(t(n[a]),e)}function u(e,n){return!(!e||0!==t(":focus",e).length)&&(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(e)}}),!0)}function c(e){return g=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),g.appendTo(t(e.target)),g}function p(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function f(t){_&&_(t)}function h(e){function a(e){if(!t(":focus",l).length||e)return l[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){m(l),s.onHidden&&"hidden"!==h.state&&s.onHidden(),h.state="hidden",h.endTime=new Date,f(h)}})}function i(){(s.timeOut>0||s.extendedTimeOut>0)&&(d=setTimeout(a,s.extendedTimeOut))}function o(){clearTimeout(d),l.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}var s=v(),r=e.iconClass||s.iconClass;void 0!==e.optionsOverride&&(s=t.extend(s,e.optionsOverride),r=e.optionsOverride.iconClass||r),b++,g=n(s,!0);var d=null,l=t("<div/>"),u=t("<div/>"),c=t("<div/>"),p=t(s.closeHtml),h={toastId:b,state:"visible",startTime:new Date,options:s,map:e};return e.iconClass&&l.addClass(s.toastClass).addClass(r),e.title&&(u.append(e.title).addClass(s.titleClass),l.append(u)),e.message&&(c.append(e.message).addClass(s.messageClass),l.append(c)),s.closeButton&&(p.addClass("toast-close-button").attr("role","button"),l.prepend(p)),l.hide(),s.newestOnTop?g.prepend(l):g.append(l),l[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(d=setTimeout(a,s.timeOut)),l.hover(o,i),!s.onclick&&s.tapToDismiss&&l.click(a),s.closeButton&&p&&p.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&!0!==t.cancelBubble&&(t.cancelBubble=!0),a(!0)}),s.onclick&&l.click(function(){s.onclick(),a()}),f(h),s.debug&&console&&console.log(h),l}function v(){return t.extend({},p(),w.options)}function m(t){g||(g=n()),t.is(":visible")||(t.remove(),t=null,0===g.children().length&&g.remove())}var g,_,b=0,y={error:"error",info:"info",success:"success",warning:"warning"},w={clear:r,remove:d,error:e,getContainer:n,info:a,options:{},subscribe:i,success:o,version:"2.0.3",warning:s};return w}()}.apply(e,a))&&(t.exports=i)}(n(162))},114:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n(5),i=n(107),o=n.n(i),s=n(104),r=n(108),d=n.n(r),l=n(106),u=(n.n(l),n(25)),c=(n.n(u),n(105)),p=n(54),f=n.n(p);a.default.prototype.$http=f.a,a.default.use(d.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:s.a,store:c.a,template:"<home/>",components:{home:o.a}})},115:function(t,e,n){"use strict";e.a={myUpdate:function(t,e){(0,t.commit)("updateAddt",e)}}},116:function(t,e){},117:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"updateAddt",function(){return a}),n.d(e,"updateAddc",function(){return i}),n.d(e,"updateAddp",function(){return o}),n.d(e,"updateAddi",function(){return s});var a=function(t,e){t.addt=e},i=function(t,e){t.addc=e},o=function(t,e){t.addp=e},s=function(t,e){t.addi=e}},147:function(t,e){},148:function(t,e){},149:function(t,e){},150:function(t,e){},153:function(t,e,n){function a(t){n(150)}var i=n(22)(n(109),n(158),a,"data-v-6f00d5e7",null);t.exports=i.exports},154:function(t,e,n){function a(t){n(149)}var i=n(22)(n(110),n(157),a,null,null);t.exports=i.exports},155:function(t,e,n){function a(t){n(148)}var i=n(22)(n(111),n(156),a,null,null);t.exports=i.exports},156:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"table"}},[n("el-button",{attrs:{id:"add",type:"primary"},on:{click:function(e){t.addVariable=!0}}},[n("i",{staticClass:"el-icon-plus"}),t._v(" 添加记录")]),t._v(" "),n("p",{attrs:{id:"newsTitle"}},[t._v("新闻管理")]),t._v(" "),n("el-table",{attrs:{data:t.tableData,stripe:""}},[n("el-table-column",{attrs:{prop:"localKey",label:"id",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"类型",width:"70"}}),t._v(" "),n("el-table-column",{attrs:{prop:"title",label:"标题",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"img",label:"图片",width:"100"},scopedSlots:t._u([{key:"default",fn:function(t){return[n("img",{staticStyle:{height:"77px",width:"77px",margin:"3px 0 0 0"},attrs:{src:t.row.img}})]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"content",label:"内容",width:"240"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.content.slice(0,33))+" ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"created_at",label:"创建时间",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"updated_at",label:"更新时间",width:"180"}}),t._v(" "),n("el-table-column",{attrs:{prop:"handle",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{size:"small",type:"success"},on:{click:function(n){t.showRevise(e.row.localKey)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(n){t.deleteInfo(e.row.key,e.row.localKey)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticClass:"pageNumber"},[n("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[5,10,50],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:400},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),t._v(" "),n("el-dialog",{attrs:{title:"添加新闻",size:"tiny"},model:{value:t.addVariable,callback:function(e){t.addVariable=e},expression:"addVariable"}},[n("el-form",{staticStyle:{width:"90%"},attrs:{"label-position":"right","label-width":"80px"}},[n("el-form-item",{attrs:{label:"标题"}},[n("el-input",{model:{value:t.addTitle,callback:function(e){t.addTitle=e},expression:"addTitle"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"新闻类型"}},[n("el-input",{model:{value:t.addType,callback:function(e){t.addType=e},expression:"addType"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"图片"}},[n("el-input",{model:{value:t.addImg,callback:function(e){t.addImg=e},expression:"addImg"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"内容"}},[n("el-input",{model:{value:t.addContent,callback:function(e){t.addContent=e},expression:"addContent"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.addInfo}},[t._v("确定")]),t._v(" "),n("el-button",{on:{click:t.initDialog}},[t._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]}},157:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("ul",[n("li",[n("router-link",{attrs:{to:"/"}},[t._v("新闻管理")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/financial-management"}},[t._v("账单管理")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:""}},[t._v("库存管理")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:""}},[t._v("人员管理")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:""}},[t._v("进货管理")])],1)])])},staticRenderFns:[]}},158:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"myHeader"},[n("div",{attrs:{id:"logo"}},[t._v("admin")]),t._v("\n    这是个\n    "),n("span",[t._v(" 后台管理系统")])])}]}},159:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view",{attrs:{name:"header"}}),t._v(" "),n("router-view",{attrs:{name:"nav"}}),t._v(" "),n("router-view",{attrs:{name:"table"}})],1)},staticRenderFns:[]}}},[114]);
//# sourceMappingURL=app.d8b124f872e440f020bb.js.map